"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[791],{3791:function(t,s,e){e.r(s),e.d(s,{default:function(){return M}});var o=e(5671),i=e(3144),r=e(136),a=e(5716),n=e(2791),u={img_forest:"ProfileInfo_img_forest__Z1qml",img:"ProfileInfo_img__5bHvU",item:"ProfileInfo_item__4vm0K",descriptionBlock:"ProfileInfo_descriptionBlock__HhUax"},l=e(2597),d=e(4353),c=e(885),p=e(184),f=function(t){var s=(0,n.useState)(!1),e=(0,c.Z)(s,2),o=e[0],i=e[1],r=(0,n.useState)(t.status),a=(0,c.Z)(r,2),u=a[0],l=a[1];(0,n.useEffect)((function(){l(t.status)}),[t.status]);return(0,p.jsxs)("div",{children:[!o&&(0,p.jsx)("div",{children:(0,p.jsx)("span",{onDoubleClick:function(){i(!0)},children:u})}),o&&(0,p.jsx)("div",{children:(0,p.jsx)("input",{autoFocus:!0,value:u,onBlur:function(){i(!1),t.updateStatus(u)},onChange:function(t){l(t.currentTarget.value)}})})]})},h=function(t){var s=t.profile,e=t.status,o=t.updateStatus;return s?(0,p.jsx)("div",{children:(0,p.jsxs)("div",{className:u.descriptionBlock,children:[(0,p.jsx)("div",{className:u.profileImg,children:(0,p.jsx)("img",{className:u.img,src:null!==s.photos.large?s.photos.large:d})}),(0,p.jsxs)("div",{className:u.profileDescription,children:["Name: ",s.fullName,(0,p.jsx)(f,{status:e,updateStatus:o}),(0,p.jsx)("br",{}),"About me: ",s.aboutMe]})]})}):(0,p.jsx)(l.p,{})},m=e(4136),x={item:"MyPosts_item__9AYEg",posts:"MyPosts_posts__z5BrU",addPostArea:"MyPosts_addPostArea__3MDXn",addPostButton:"MyPosts_addPostButton__3Cegu"},j="Post_item__APOrn",_=function(t){return(0,p.jsxs)("div",{className:j,children:[(0,p.jsx)("img",{src:t.avatar}),t.message,(0,p.jsx)("div",{children:(0,p.jsxs)("span",{children:["like ",t.countlike]})})]})},v=e(6139),g=e(704),P=e(3079),S=e(6664),k=n.memo((function(t){console.log("RENDER");var s=t.posts.map((function(t){return(0,p.jsx)(_,{message:t.message,avatar:t.avatar,countlike:t.countlike})}));return(0,p.jsxs)("div",{className:x.postsBlock,children:[(0,p.jsx)("h3",{children:"My Posts"}),(0,p.jsx)("div",{children:(0,p.jsx)(y,{onSubmit:function(s){t.addPost(s.newPostText)}})}),(0,p.jsx)("div",{className:x.posts,children:s})]})})),N=(0,P.D)(10),y=(0,g.Z)({form:"AddPostForm"})((function(t){return(0,p.jsx)("form",{onSubmit:t.handleSubmit,children:(0,p.jsxs)("div",{children:[(0,p.jsx)(v.Z,{component:S.g,name:"newPostText",placeholder:"Enter your post",className:x.addPostArea,validate:[P.C,N]}),(0,p.jsx)("button",{className:x.addPostButton,children:"Add post"})]})})})),b=e(8687),A=(0,b.$j)((function(t){return{posts:t.profilePage.posts}}),(function(t){return{addPost:function(s){t((0,m.WA)(s))}}}))(k),B=function(t){return(0,p.jsxs)("div",{children:[(0,p.jsx)(h,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),(0,p.jsx)(A,{})]})},Z=e(9271),C=e(7781),I=function(t){(0,r.Z)(e,t);var s=(0,a.Z)(e);function e(){return(0,o.Z)(this,e),s.apply(this,arguments)}return(0,i.Z)(e,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId;t||(t=String(this.props.authorizedUserId))||this.props.history.push("/login"),this.props.getUserProfile(t),this.props.getStatus(t)}},{key:"render",value:function(){return(0,p.jsx)(B,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus})}}]),e}(n.Component),M=(0,C.qC)((0,b.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.data.userid,isAuth:t.auth.data.isAuth}}),{getUserProfile:m.et,getStatus:m.lR,updateStatus:m.Nf}),Z.EN)(I)}}]);
//# sourceMappingURL=791.4df0f027.chunk.js.map